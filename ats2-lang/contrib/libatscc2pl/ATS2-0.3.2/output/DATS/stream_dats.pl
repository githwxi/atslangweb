######
##
## The Perl code is generated by atscc2pl
## The starting compilation time is: 2017-4-11: 16h:58m
##
######
sub
_ats2plpre_stream_patsfun_6__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_6($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_17__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_17($cenv->[1], $cenv->[2], $arg0); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_23__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_23($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_25__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_25($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_27__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_27($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_29__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_29($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_31__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_31($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_33__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_33($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_36__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_36($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_39__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_39($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_42__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_42($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_46__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_46($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_49__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_49($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_52__closurerize($$$$)
{
  my($env0, $env1, $env2, $env3) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_52($cenv->[1], $cenv->[2], $cenv->[3], $cenv->[4]); }, $env0, $env1, $env2, $env3];
}

sub
_ats2plpre_stream_patsfun_53__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_53($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_56__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_56($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_58__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_58($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_60__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_60($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_65__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0, $arg1) = @_; return _ats2plpre_stream_patsfun_65($cenv->[1], $arg0, $arg1); }, $env0];
}

sub
_ats2plpre_stream_patsfun_67__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0, $arg1) = @_; return _ats2plpre_stream_patsfun_67($cenv->[1], $arg0, $arg1); }, $env0];
}

sub
_ats2plpre_stream_patsfun_70__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_70($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_72__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_72($cenv->[1], $cenv->[2]); }, $env0, $env1];
}


sub
ats2plpre_stream_make_list($)
{
##
  my($arg0) = @_;
##
  my $tmpret7;
##
  __patsflab_stream_make_list:
  $tmpret7 = ATSPMVlazyval(_ats2plpre_stream_patsfun_6__closurerize($arg0));
  return $tmpret7;
} #end-of-function


sub
_ats2plpre_stream_patsfun_6($)
{
##
  my($env0) = @_;
##
  my $tmpret8;
  my $tmp9;
  my $tmp10;
  my $tmp11;
##
  __patsflab__ats2plpre_stream_patsfun_6:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab0:
    if(ATSCKptriscons($env0)) { goto __atstmplab3; }
    __atstmplab1:
    $tmpret8 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab2:
    __atstmplab3:
    $tmp9 = $env0->[0];
    $tmp10 = $env0->[1];
    $tmp11 = ats2plpre_stream_make_list($tmp10);
    $tmpret8 = [$tmp9, $tmp11];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret8;
} #end-of-function


sub
ats2plpre_stream_make_list0($)
{
##
  my($arg0) = @_;
##
  my $tmpret12;
##
  __patsflab_stream_make_list0:
  $tmpret12 = ats2plpre_stream_make_list($arg0);
  return $tmpret12;
} #end-of-function


sub
ats2plpre_stream_nth_opt($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret13;
##
  __patsflab_stream_nth_opt:
  $tmpret13 = _ats2plpre_stream_loop_9($arg0, $arg1);
  return $tmpret13;
} #end-of-function


sub
_ats2plpre_stream_loop_9($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret14;
  my $tmp15;
  my $tmp16;
  my $tmp17;
  my $tmp18;
  my $tmp19;
##
  __patsflab__ats2plpre_stream_loop_9:
  $tmp15 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab4:
    if(ATSCKptriscons($tmp15)) { goto __atstmplab7; }
    __atstmplab5:
    $tmpret14 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab6:
    __atstmplab7:
    $tmp16 = $tmp15->[0];
    $tmp17 = $tmp15->[1];
    $tmp18 = ats2plpre_gt_int1_int1($arg1, 0);
    if($tmp18) {
      $tmp19 = ats2plpre_pred_int1($arg1);
      #ATStailcalseq_beg
      $apy0 = $tmp17;
      $apy1 = $tmp19;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab__ats2plpre_stream_loop_9;
      #ATStailcalseq_end
    } else {
      $tmpret14 = [$tmp16];
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret14;
} #end-of-function


sub
ats2plpre_stream_length($)
{
##
  my($arg0) = @_;
##
  my $tmpret20;
##
  __patsflab_stream_length:
  $tmpret20 = _ats2plpre_stream_loop_11($arg0, 0);
  return $tmpret20;
} #end-of-function


sub
_ats2plpre_stream_loop_11($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret21;
  my $tmp22;
  my $tmp24;
  my $tmp25;
##
  __patsflab__ats2plpre_stream_loop_11:
  $tmp22 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab8:
    if(ATSCKptriscons($tmp22)) { goto __atstmplab11; }
    __atstmplab9:
    $tmpret21 = $arg1;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab10:
    __atstmplab11:
    $tmp24 = $tmp22->[1];
    $tmp25 = ats2plpre_add_int1_int1($arg1, 1);
    #ATStailcalseq_beg
    $apy0 = $tmp24;
    $apy1 = $tmp25;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab__ats2plpre_stream_loop_11;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret21;
} #end-of-function


sub
ats2plpre_stream2list($)
{
##
  my($arg0) = @_;
##
  my $tmpret26;
##
  __patsflab_stream2list:
  $tmpret26 = _ats2plpre_stream_aux_13($arg0);
  return $tmpret26;
} #end-of-function


sub
_ats2plpre_stream_aux_13($)
{
##
  my($arg0) = @_;
##
  my $tmpret27;
  my $tmp28;
  my $tmp29;
  my $tmp30;
  my $tmp31;
##
  __patsflab__ats2plpre_stream_aux_13:
  $tmp28 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab12:
    if(ATSCKptriscons($tmp28)) { goto __atstmplab15; }
    __atstmplab13:
    $tmpret27 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab14:
    __atstmplab15:
    $tmp29 = $tmp28->[0];
    $tmp30 = $tmp28->[1];
    $tmp31 = _ats2plpre_stream_aux_13($tmp30);
    $tmpret27 = [$tmp29, $tmp31];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret27;
} #end-of-function


sub
ats2plpre_stream2list_rev($)
{
##
  my($arg0) = @_;
##
  my $tmpret32;
  my $tmp38;
##
  __patsflab_stream2list_rev:
  $tmp38 = 0;
  $tmpret32 = _ats2plpre_stream_loop_15($arg0, $tmp38);
  return $tmpret32;
} #end-of-function


sub
_ats2plpre_stream_loop_15($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret33;
  my $tmp34;
  my $tmp35;
  my $tmp36;
  my $tmp37;
##
  __patsflab__ats2plpre_stream_loop_15:
  $tmp34 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab16:
    if(ATSCKptriscons($tmp34)) { goto __atstmplab19; }
    __atstmplab17:
    $tmpret33 = $arg1;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab18:
    __atstmplab19:
    $tmp35 = $tmp34->[0];
    $tmp36 = $tmp34->[1];
    $tmp37 = [$tmp35, $arg1];
    #ATStailcalseq_beg
    $apy0 = $tmp36;
    $apy1 = $tmp37;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab__ats2plpre_stream_loop_15;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret33;
} #end-of-function


sub
ats2plpre_stream_takeLte($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret39;
##
  __patsflab_stream_takeLte:
  $tmpret39 = ATSPMVllazyval(_ats2plpre_stream_patsfun_17__closurerize($arg0, $arg1));
  return $tmpret39;
} #end-of-function


sub
_ats2plpre_stream_patsfun_17($$$)
{
##
  my($env0, $env1, $arg0) = @_;
##
  my $tmpret40;
  my $tmp41;
  my $tmp42;
  my $tmp43;
  my $tmp44;
  my $tmp45;
  my $tmp46;
##
  __patsflab__ats2plpre_stream_patsfun_17:
  if($arg0) {
    $tmp41 = ats2plpre_gt_int1_int1($env1, 0);
    if($tmp41) {
      $tmp42 = ATSPMVlazyval_eval($env0); 
      #ATScaseofseq_beg
      while(1)
      {
        #ATSbranchseq_beg
        __atstmplab20:
        if(ATSCKptriscons($tmp42)) { goto __atstmplab23; }
        __atstmplab21:
        $tmpret40 = 0;
        last;
        #ATSbranchseq_end
        #ATSbranchseq_beg
        __atstmplab22:
        __atstmplab23:
        $tmp43 = $tmp42->[0];
        $tmp44 = $tmp42->[1];
        $tmp46 = ats2plpre_sub_int1_int1($env1, 1);
        $tmp45 = ats2plpre_stream_takeLte($tmp44, $tmp46);
        $tmpret40 = [$tmp43, $tmp45];
        last;
        #ATSbranchseq_end
      } #end-of-while-loop;
      #ATScaseofseq_end
    } else {
      $tmpret40 = 0;
    } #endif
  } else {
  } #endif
  return $tmpret40;
} #end-of-function


sub
ats2plpre_stream_take_opt($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret47;
  my $tmp56;
##
  __patsflab_stream_take_opt:
  $tmp56 = 0;
  $tmpret47 = _ats2plpre_stream_auxmain_19($arg1, $arg0, 0, $tmp56);
  return $tmpret47;
} #end-of-function


sub
_ats2plpre_stream_auxmain_19($$$$)
{
##
  my($env0, $arg0, $arg1, $arg2) = @_;
##
  my $apy0;
  my $apy1;
  my $apy2;
  my $tmpret48;
  my $tmp49;
  my $tmp50;
  my $tmp51;
  my $tmp52;
  my $tmp53;
  my $tmp54;
  my $tmp55;
##
  __patsflab__ats2plpre_stream_auxmain_19:
  $tmp49 = ats2plpre_lt_int1_int1($arg1, $env0);
  if($tmp49) {
    $tmp50 = ATSPMVlazyval_eval($arg0); 
    #ATScaseofseq_beg
    while(1)
    {
      #ATSbranchseq_beg
      __atstmplab24:
      if(ATSCKptriscons($tmp50)) { goto __atstmplab27; }
      __atstmplab25:
      $tmpret48 = 0;
      last;
      #ATSbranchseq_end
      #ATSbranchseq_beg
      __atstmplab26:
      __atstmplab27:
      $tmp51 = $tmp50->[0];
      $tmp52 = $tmp50->[1];
      $tmp53 = ats2plpre_add_int1_int1($arg1, 1);
      $tmp54 = [$tmp51, $arg2];
      #ATStailcalseq_beg
      $apy0 = $tmp52;
      $apy1 = $tmp53;
      $apy2 = $tmp54;
      $arg0 = $apy0;
      $arg1 = $apy1;
      $arg2 = $apy2;
      goto __patsflab__ats2plpre_stream_auxmain_19;
      #ATStailcalseq_end
      last;
      #ATSbranchseq_end
    } #end-of-while-loop;
    #ATScaseofseq_end
  } else {
    $tmp55 = ats2plpre_list_reverse($arg2);
    $tmpret48 = [$tmp55];
  } #endif
  return $tmpret48;
} #end-of-function


sub
ats2plpre_stream_drop_opt($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret57;
##
  __patsflab_stream_drop_opt:
  $tmpret57 = _ats2plpre_stream_auxmain_21($arg1, $arg0, 0);
  return $tmpret57;
} #end-of-function


sub
_ats2plpre_stream_auxmain_21($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret58;
  my $tmp59;
  my $tmp60;
  my $tmp62;
  my $tmp63;
##
  __patsflab__ats2plpre_stream_auxmain_21:
  $tmp59 = ats2plpre_lt_int1_int1($arg1, $env0);
  if($tmp59) {
    $tmp60 = ATSPMVlazyval_eval($arg0); 
    #ATScaseofseq_beg
    while(1)
    {
      #ATSbranchseq_beg
      __atstmplab28:
      if(ATSCKptriscons($tmp60)) { goto __atstmplab31; }
      __atstmplab29:
      $tmpret58 = 0;
      last;
      #ATSbranchseq_end
      #ATSbranchseq_beg
      __atstmplab30:
      __atstmplab31:
      $tmp62 = $tmp60->[1];
      $tmp63 = ats2plpre_add_int1_int1($arg1, 1);
      #ATStailcalseq_beg
      $apy0 = $tmp62;
      $apy1 = $tmp63;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab__ats2plpre_stream_auxmain_21;
      #ATStailcalseq_end
      last;
      #ATSbranchseq_end
    } #end-of-while-loop;
    #ATScaseofseq_end
  } else {
    $tmpret58 = [$arg0];
  } #endif
  return $tmpret58;
} #end-of-function


sub
ats2plpre_stream_append($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret64;
##
  __patsflab_stream_append:
  $tmpret64 = ATSPMVlazyval(_ats2plpre_stream_patsfun_23__closurerize($arg0, $arg1));
  return $tmpret64;
} #end-of-function


sub
_ats2plpre_stream_patsfun_23($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret65;
  my $tmp66;
  my $tmp67;
  my $tmp68;
  my $tmp69;
##
  __patsflab__ats2plpre_stream_patsfun_23:
  $tmp66 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab32:
    if(ATSCKptriscons($tmp66)) { goto __atstmplab35; }
    __atstmplab33:
    $tmpret65 = ATSPMVlazyval_eval($env1); 
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab34:
    __atstmplab35:
    $tmp67 = $tmp66->[0];
    $tmp68 = $tmp66->[1];
    $tmp69 = ats2plpre_stream_append($tmp68, $env1);
    $tmpret65 = [$tmp67, $tmp69];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret65;
} #end-of-function


sub
ats2plpre_stream_concat($)
{
##
  my($arg0) = @_;
##
  my $tmpret70;
##
  __patsflab_stream_concat:
  $tmpret70 = ATSPMVlazyval(_ats2plpre_stream_patsfun_25__closurerize($arg0));
  return $tmpret70;
} #end-of-function


sub
_ats2plpre_stream_patsfun_25($)
{
##
  my($env0) = @_;
##
  my $tmpret71;
  my $tmp72;
  my $tmp73;
  my $tmp74;
  my $tmp75;
  my $tmp76;
##
  __patsflab__ats2plpre_stream_patsfun_25:
  $tmp72 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab36:
    if(ATSCKptriscons($tmp72)) { goto __atstmplab39; }
    __atstmplab37:
    $tmpret71 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab38:
    __atstmplab39:
    $tmp73 = $tmp72->[0];
    $tmp74 = $tmp72->[1];
    $tmp76 = ats2plpre_stream_concat($tmp74);
    $tmp75 = ats2plpre_stream_append($tmp73, $tmp76);
    $tmpret71 = ATSPMVlazyval_eval($tmp75); 
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret71;
} #end-of-function


sub
ats2plpre_stream_map_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret77;
##
  __patsflab_stream_map_cloref:
  $tmpret77 = ATSPMVlazyval(_ats2plpre_stream_patsfun_27__closurerize($arg0, $arg1));
  return $tmpret77;
} #end-of-function


sub
_ats2plpre_stream_patsfun_27($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret78;
  my $tmp79;
  my $tmp80;
  my $tmp81;
  my $tmp82;
  my $tmp83;
##
  __patsflab__ats2plpre_stream_patsfun_27:
  $tmp79 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab40:
    if(ATSCKptriscons($tmp79)) { goto __atstmplab43; }
    __atstmplab41:
    $tmpret78 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab42:
    __atstmplab43:
    $tmp80 = $tmp79->[0];
    $tmp81 = $tmp79->[1];
    $tmp82 = &{$env1->[0]}($env1, $tmp80);
    $tmp83 = ats2plpre_stream_map_cloref($tmp81, $env1);
    $tmpret78 = [$tmp82, $tmp83];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret78;
} #end-of-function


sub
ats2plpre_stream_map_method($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret84;
##
  __patsflab_stream_map_method:
  $tmpret84 = _ats2plpre_stream_patsfun_29__closurerize($arg0);
  return $tmpret84;
} #end-of-function


sub
_ats2plpre_stream_patsfun_29($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret85;
##
  __patsflab__ats2plpre_stream_patsfun_29:
  $tmpret85 = ats2plpre_stream_map_cloref($env0, $arg0);
  return $tmpret85;
} #end-of-function


sub
ats2plpre_stream_filter_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret86;
##
  __patsflab_stream_filter_cloref:
  $tmpret86 = ATSPMVlazyval(_ats2plpre_stream_patsfun_31__closurerize($arg0, $arg1));
  return $tmpret86;
} #end-of-function


sub
_ats2plpre_stream_patsfun_31($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret87;
  my $tmp88;
  my $tmp89;
  my $tmp90;
  my $tmp91;
  my $tmp92;
  my $tmp93;
##
  __patsflab__ats2plpre_stream_patsfun_31:
  $tmp88 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab44:
    if(ATSCKptriscons($tmp88)) { goto __atstmplab47; }
    __atstmplab45:
    $tmpret87 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab46:
    __atstmplab47:
    $tmp89 = $tmp88->[0];
    $tmp90 = $tmp88->[1];
    $tmp91 = &{$env1->[0]}($env1, $tmp89);
    if($tmp91) {
      $tmp92 = ats2plpre_stream_filter_cloref($tmp90, $env1);
      $tmpret87 = [$tmp89, $tmp92];
    } else {
      $tmp93 = ats2plpre_stream_filter_cloref($tmp90, $env1);
      $tmpret87 = ATSPMVlazyval_eval($tmp93); 
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret87;
} #end-of-function


sub
ats2plpre_stream_filter_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret94;
##
  __patsflab_stream_filter_method:
  $tmpret94 = _ats2plpre_stream_patsfun_33__closurerize($arg0);
  return $tmpret94;
} #end-of-function


sub
_ats2plpre_stream_patsfun_33($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret95;
##
  __patsflab__ats2plpre_stream_patsfun_33:
  $tmpret95 = ats2plpre_stream_filter_cloref($env0, $arg0);
  return $tmpret95;
} #end-of-function


sub
ats2plpre_stream_forall_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret96;
  my $tmp97;
  my $tmp98;
  my $tmp99;
  my $tmp100;
##
  __patsflab_stream_forall_cloref:
  $tmp97 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab48:
    if(ATSCKptriscons($tmp97)) { goto __atstmplab51; }
    __atstmplab49:
    $tmpret96 = 1;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab50:
    __atstmplab51:
    $tmp98 = $tmp97->[0];
    $tmp99 = $tmp97->[1];
    $tmp100 = &{$arg1->[0]}($arg1, $tmp98);
    if($tmp100) {
      #ATStailcalseq_beg
      $apy0 = $tmp99;
      $apy1 = $arg1;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab_stream_forall_cloref;
      #ATStailcalseq_end
    } else {
      $tmpret96 = 0;
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret96;
} #end-of-function


sub
ats2plpre_stream_forall_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret101;
##
  __patsflab_stream_forall_method:
  $tmpret101 = _ats2plpre_stream_patsfun_36__closurerize($arg0);
  return $tmpret101;
} #end-of-function


sub
_ats2plpre_stream_patsfun_36($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret102;
##
  __patsflab__ats2plpre_stream_patsfun_36:
  $tmpret102 = ats2plpre_stream_forall_cloref($env0, $arg0);
  return $tmpret102;
} #end-of-function


sub
ats2plpre_stream_exists_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret103;
  my $tmp104;
  my $tmp105;
  my $tmp106;
  my $tmp107;
##
  __patsflab_stream_exists_cloref:
  $tmp104 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab52:
    if(ATSCKptriscons($tmp104)) { goto __atstmplab55; }
    __atstmplab53:
    $tmpret103 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab54:
    __atstmplab55:
    $tmp105 = $tmp104->[0];
    $tmp106 = $tmp104->[1];
    $tmp107 = &{$arg1->[0]}($arg1, $tmp105);
    if($tmp107) {
      $tmpret103 = 1;
    } else {
      #ATStailcalseq_beg
      $apy0 = $tmp106;
      $apy1 = $arg1;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab_stream_exists_cloref;
      #ATStailcalseq_end
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret103;
} #end-of-function


sub
ats2plpre_stream_exists_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret108;
##
  __patsflab_stream_exists_method:
  $tmpret108 = _ats2plpre_stream_patsfun_39__closurerize($arg0);
  return $tmpret108;
} #end-of-function


sub
_ats2plpre_stream_patsfun_39($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret109;
##
  __patsflab__ats2plpre_stream_patsfun_39:
  $tmpret109 = ats2plpre_stream_exists_cloref($env0, $arg0);
  return $tmpret109;
} #end-of-function


sub
ats2plpre_stream_foreach_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmp111;
  my $tmp112;
  my $tmp113;
##
  __patsflab_stream_foreach_cloref:
  $tmp111 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab56:
    if(ATSCKptriscons($tmp111)) { goto __atstmplab59; }
    __atstmplab57:
    #ATSINSmove_void;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab58:
    __atstmplab59:
    $tmp112 = $tmp111->[0];
    $tmp113 = $tmp111->[1];
    &{$arg1->[0]}($arg1, $tmp112);
    #ATStailcalseq_beg
    $apy0 = $tmp113;
    $apy1 = $arg1;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab_stream_foreach_cloref;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return;#_void
} #end-of-function


sub
ats2plpre_stream_foreach_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret115;
##
  __patsflab_stream_foreach_method:
  $tmpret115 = _ats2plpre_stream_patsfun_42__closurerize($arg0);
  return $tmpret115;
} #end-of-function


sub
_ats2plpre_stream_patsfun_42($$)
{
##
  my($env0, $arg0) = @_;
##
##
  __patsflab__ats2plpre_stream_patsfun_42:
  ats2plpre_stream_foreach_cloref($env0, $arg0);
  return;#_void
} #end-of-function


sub
ats2plpre_stream_iforeach_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
##
  __patsflab_stream_iforeach_cloref:
  _ats2plpre_stream_loop_44($arg1, 0, $arg0);
  return;#_void
} #end-of-function


sub
_ats2plpre_stream_loop_44($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmp119;
  my $tmp120;
  my $tmp121;
  my $tmp123;
##
  __patsflab__ats2plpre_stream_loop_44:
  $tmp119 = ATSPMVlazyval_eval($arg1); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab60:
    if(ATSCKptriscons($tmp119)) { goto __atstmplab63; }
    __atstmplab61:
    #ATSINSmove_void;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab62:
    __atstmplab63:
    $tmp120 = $tmp119->[0];
    $tmp121 = $tmp119->[1];
    &{$env0->[0]}($env0, $arg0, $tmp120);
    $tmp123 = ats2plpre_add_int1_int1($arg0, 1);
    #ATStailcalseq_beg
    $apy0 = $tmp123;
    $apy1 = $tmp121;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab__ats2plpre_stream_loop_44;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return;#_void
} #end-of-function


sub
ats2plpre_stream_iforeach_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret124;
##
  __patsflab_stream_iforeach_method:
  $tmpret124 = _ats2plpre_stream_patsfun_46__closurerize($arg0);
  return $tmpret124;
} #end-of-function


sub
_ats2plpre_stream_patsfun_46($$)
{
##
  my($env0, $arg0) = @_;
##
##
  __patsflab__ats2plpre_stream_patsfun_46:
  ats2plpre_stream_iforeach_cloref($env0, $arg0);
  return;#_void
} #end-of-function


sub
ats2plpre_stream_tabulate_cloref($)
{
##
  my($arg0) = @_;
##
  my $tmpret126;
##
  __patsflab_stream_tabulate_cloref:
  $tmpret126 = _ats2plpre_stream_auxmain_48($arg0, 0);
  return $tmpret126;
} #end-of-function


sub
_ats2plpre_stream_auxmain_48($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret127;
##
  __patsflab__ats2plpre_stream_auxmain_48:
  $tmpret127 = ATSPMVlazyval(_ats2plpre_stream_patsfun_49__closurerize($env0, $arg0));
  return $tmpret127;
} #end-of-function


sub
_ats2plpre_stream_patsfun_49($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret128;
  my $tmp129;
  my $tmp130;
  my $tmp131;
##
  __patsflab__ats2plpre_stream_patsfun_49:
  $tmp129 = &{$env0->[0]}($env0, $env1);
  $tmp131 = ats2plpre_add_int1_int1($env1, 1);
  $tmp130 = _ats2plpre_stream_auxmain_48($env0, $tmp131);
  $tmpret128 = [$tmp129, $tmp130];
  return $tmpret128;
} #end-of-function


sub
ats2plpre_cross_stream_list($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret132;
##
  __patsflab_cross_stream_list:
  $tmpret132 = ATSPMVlazyval(_ats2plpre_stream_patsfun_53__closurerize($arg0, $arg1));
  return $tmpret132;
} #end-of-function


sub
_ats2plpre_stream_auxmain_51($$$$)
{
##
  my($arg0, $arg1, $arg2, $arg3) = @_;
##
  my $tmpret133;
##
  __patsflab__ats2plpre_stream_auxmain_51:
  $tmpret133 = ATSPMVlazyval(_ats2plpre_stream_patsfun_52__closurerize($arg0, $arg1, $arg2, $arg3));
  return $tmpret133;
} #end-of-function


sub
_ats2plpre_stream_patsfun_52($$$$)
{
##
  my($env0, $env1, $env2, $env3) = @_;
##
  my $tmpret134;
  my $tmp135;
  my $tmp136;
  my $tmp137;
  my $tmp138;
  my $tmp139;
##
  __patsflab__ats2plpre_stream_patsfun_52:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab64:
    if(ATSCKptriscons($env3)) { goto __atstmplab67; }
    __atstmplab65:
    $tmp137 = ats2plpre_cross_stream_list($env1, $env2);
    $tmpret134 = ATSPMVlazyval_eval($tmp137); 
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab66:
    __atstmplab67:
    $tmp135 = $env3->[0];
    $tmp136 = $env3->[1];
    $tmp138 = [$env0, $tmp135];
    $tmp139 = _ats2plpre_stream_auxmain_51($env0, $env1, $env2, $tmp136);
    $tmpret134 = [$tmp138, $tmp139];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret134;
} #end-of-function


sub
_ats2plpre_stream_patsfun_53($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret140;
  my $tmp141;
  my $tmp142;
  my $tmp143;
  my $tmp144;
##
  __patsflab__ats2plpre_stream_patsfun_53:
  $tmp141 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab68:
    if(ATSCKptriscons($tmp141)) { goto __atstmplab71; }
    __atstmplab69:
    $tmpret140 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab70:
    if(ATSCKptrisnull($tmp141)) { ATSINScaseof_fail("/home/hwxi/Research/ATS-Postiats/contrib/libatscc/ATS2-0.3.2/DATS/stream.dats: 6907(line=451, offs=1) -- 6999(line=453, offs=50)"); }
    __atstmplab71:
    $tmp142 = $tmp141->[0];
    $tmp143 = $tmp141->[1];
    $tmp144 = _ats2plpre_stream_auxmain_51($tmp142, $tmp143, $env1, $env1);
    $tmpret140 = ATSPMVlazyval_eval($tmp144); 
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret140;
} #end-of-function


sub
ats2plpre_cross_stream_list0($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret145;
##
  __patsflab_cross_stream_list0:
  $tmpret145 = ats2plpre_cross_stream_list($arg0, $arg1);
  return $tmpret145;
} #end-of-function


sub
ats2plpre_stream2cloref_exn($)
{
##
  my($arg0) = @_;
##
  my $tmpret146;
  my $tmp147;
##
  __patsflab_stream2cloref_exn:
  $tmp147 = ats2plpre_ref($arg0);
  $tmpret146 = _ats2plpre_stream_patsfun_56__closurerize($tmp147);
  return $tmpret146;
} #end-of-function


sub
_ats2plpre_stream_patsfun_56($)
{
##
  my($env0) = @_;
##
  my $tmpret148;
  my $tmp149;
  my $tmp150;
  my $tmp151;
  my $tmp152;
##
  __patsflab__ats2plpre_stream_patsfun_56:
  $tmp149 = ats2plpre_ref_get_elt($env0);
  $tmp150 = ATSPMVlazyval_eval($tmp149); 
  if(ATSCKptrisnull($tmp150)) { ATSINScaseof_fail("/home/hwxi/Research/ATS-Postiats/contrib/libatscc/ATS2-0.3.2/DATS/stream.dats: 7300(line=479, offs=5) -- 7324(line=479, offs=29)"); }
  $tmp151 = $tmp150->[0];
  $tmp152 = $tmp150->[1];
  ats2plpre_ref_set_elt($env0, $tmp152);
  $tmpret148 = $tmp151;
  return $tmpret148;
} #end-of-function


sub
ats2plpre_stream2cloref_opt($)
{
##
  my($arg0) = @_;
##
  my $tmpret154;
  my $tmp155;
##
  __patsflab_stream2cloref_opt:
  $tmp155 = ats2plpre_ref($arg0);
  $tmpret154 = _ats2plpre_stream_patsfun_58__closurerize($tmp155);
  return $tmpret154;
} #end-of-function


sub
_ats2plpre_stream_patsfun_58($)
{
##
  my($env0) = @_;
##
  my $tmpret156;
  my $tmp157;
  my $tmp158;
  my $tmp159;
  my $tmp160;
##
  __patsflab__ats2plpre_stream_patsfun_58:
  $tmp157 = ats2plpre_ref_get_elt($env0);
  $tmp158 = ATSPMVlazyval_eval($tmp157); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab72:
    if(ATSCKptriscons($tmp158)) { goto __atstmplab75; }
    __atstmplab73:
    $tmpret156 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab74:
    __atstmplab75:
    $tmp159 = $tmp158->[0];
    $tmp160 = $tmp158->[1];
    ats2plpre_ref_set_elt($env0, $tmp160);
    $tmpret156 = [$tmp159];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret156;
} #end-of-function


sub
ats2plpre_stream2cloref_last($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret162;
  my $tmp163;
  my $tmp164;
##
  __patsflab_stream2cloref_last:
  $tmp163 = ats2plpre_ref($arg0);
  $tmp164 = ats2plpre_ref($arg1);
  $tmpret162 = _ats2plpre_stream_patsfun_60__closurerize($tmp163, $tmp164);
  return $tmpret162;
} #end-of-function


sub
_ats2plpre_stream_patsfun_60($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret165;
  my $tmp166;
  my $tmp167;
  my $tmp168;
  my $tmp169;
##
  __patsflab__ats2plpre_stream_patsfun_60:
  $tmp166 = ats2plpre_ref_get_elt($env0);
  $tmp167 = ATSPMVlazyval_eval($tmp166); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab76:
    if(ATSCKptriscons($tmp167)) { goto __atstmplab79; }
    __atstmplab77:
    $tmpret165 = ats2plpre_ref_get_elt($env1);
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab78:
    __atstmplab79:
    $tmp168 = $tmp167->[0];
    $tmp169 = $tmp167->[1];
    ats2plpre_ref_set_elt($env0, $tmp169);
    ats2plpre_ref_set_elt($env1, $tmp168);
    $tmpret165 = $tmp168;
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret165;
} #end-of-function


sub
ats2plpre_stream_take_while_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret172;
  my $tmp173;
  my $tmp174;
  my $tmp175;
  my $tmp176;
##
  __patsflab_stream_take_while_cloref:
  $tmp173 = ats2plpre_stream_rtake_while_cloref($arg0, $arg1);
  $tmp174 = $tmp173->[0];
  $tmp175 = $tmp173->[1];
  $tmp176 = ats2plpre_list_reverse($tmp175);
  $tmpret172 = [$tmp174, $tmp176];
  return $tmpret172;
} #end-of-function


sub
ats2plpre_stream_rtake_while_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret177;
  my $tmp185;
##
  __patsflab_stream_rtake_while_cloref:
  $tmp185 = 0;
  $tmpret177 = _ats2plpre_stream_loop_63($arg1, $arg0, 0, $tmp185);
  return $tmpret177;
} #end-of-function


sub
_ats2plpre_stream_loop_63($$$$)
{
##
  my($env0, $arg0, $arg1, $arg2) = @_;
##
  my $apy0;
  my $apy1;
  my $apy2;
  my $tmpret178;
  my $tmp179;
  my $tmp180;
  my $tmp181;
  my $tmp182;
  my $tmp183;
  my $tmp184;
##
  __patsflab__ats2plpre_stream_loop_63:
  $tmp179 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab80:
    if(ATSCKptriscons($tmp179)) { goto __atstmplab83; }
    __atstmplab81:
    $tmpret178 = [$arg0, $arg2];
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab82:
    __atstmplab83:
    $tmp180 = $tmp179->[0];
    $tmp181 = $tmp179->[1];
    $tmp182 = &{$env0->[0]}($env0, $arg1, $tmp180);
    if($tmp182) {
      $tmp183 = ats2plpre_add_int1_int1($arg1, 1);
      $tmp184 = [$tmp180, $arg2];
      #ATStailcalseq_beg
      $apy0 = $tmp181;
      $apy1 = $tmp183;
      $apy2 = $tmp184;
      $arg0 = $apy0;
      $arg1 = $apy1;
      $arg2 = $apy2;
      goto __patsflab__ats2plpre_stream_loop_63;
      #ATStailcalseq_end
    } else {
      $tmpret178 = [$arg0, $arg2];
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret178;
} #end-of-function


sub
ats2plpre_stream_take_until_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret186;
##
  __patsflab_stream_take_until_cloref:
  $tmpret186 = ats2plpre_stream_take_while_cloref($arg0, _ats2plpre_stream_patsfun_65__closurerize($arg1));
  return $tmpret186;
} #end-of-function


sub
_ats2plpre_stream_patsfun_65($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $tmpret187;
  my $tmp188;
##
  __patsflab__ats2plpre_stream_patsfun_65:
  $tmp188 = &{$env0->[0]}($env0, $arg0, $arg1);
  $tmpret187 = atspre_neg_bool0($tmp188);
  return $tmpret187;
} #end-of-function


sub
ats2plpre_stream_rtake_until_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret189;
##
  __patsflab_stream_rtake_until_cloref:
  $tmpret189 = ats2plpre_stream_rtake_while_cloref($arg0, _ats2plpre_stream_patsfun_67__closurerize($arg1));
  return $tmpret189;
} #end-of-function


sub
_ats2plpre_stream_patsfun_67($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $tmpret190;
  my $tmp191;
##
  __patsflab__ats2plpre_stream_patsfun_67:
  $tmp191 = &{$env0->[0]}($env0, $arg0, $arg1);
  $tmpret190 = atspre_neg_bool0($tmp191);
  return $tmpret190;
} #end-of-function


sub
ats2plpre_stream_list_xprod2($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret192;
##
  __patsflab_stream_list_xprod2:
  $tmpret192 = _ats2plpre_stream_auxlst_71($arg0, $arg1);
  return $tmpret192;
} #end-of-function


sub
_ats2plpre_stream_aux_69($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret193;
##
  __patsflab__ats2plpre_stream_aux_69:
  $tmpret193 = ATSPMVlazyval(_ats2plpre_stream_patsfun_70__closurerize($arg0, $arg1));
  return $tmpret193;
} #end-of-function


sub
_ats2plpre_stream_patsfun_70($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret194;
  my $tmp195;
  my $tmp196;
  my $tmp197;
  my $tmp198;
##
  __patsflab__ats2plpre_stream_patsfun_70:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab84:
    if(ATSCKptriscons($env1)) { goto __atstmplab87; }
    __atstmplab85:
    $tmpret194 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab86:
    __atstmplab87:
    $tmp195 = $env1->[0];
    $tmp196 = $env1->[1];
    $tmp197 = [$env0, $tmp195];
    $tmp198 = _ats2plpre_stream_aux_69($env0, $tmp196);
    $tmpret194 = [$tmp197, $tmp198];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret194;
} #end-of-function


sub
_ats2plpre_stream_auxlst_71($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret199;
##
  __patsflab__ats2plpre_stream_auxlst_71:
  $tmpret199 = ATSPMVlazyval(_ats2plpre_stream_patsfun_72__closurerize($arg0, $arg1));
  return $tmpret199;
} #end-of-function


sub
_ats2plpre_stream_patsfun_72($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret200;
  my $tmp201;
  my $tmp202;
  my $tmp203;
  my $tmp204;
  my $tmp205;
##
  __patsflab__ats2plpre_stream_patsfun_72:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab88:
    if(ATSCKptriscons($env0)) { goto __atstmplab91; }
    __atstmplab89:
    $tmpret200 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab90:
    __atstmplab91:
    $tmp201 = $env0->[0];
    $tmp202 = $env0->[1];
    $tmp204 = _ats2plpre_stream_aux_69($tmp201, $env1);
    $tmp205 = _ats2plpre_stream_auxlst_71($tmp202, $env1);
    $tmp203 = ats2plpre_stream_append($tmp204, $tmp205);
    $tmpret200 = ATSPMVlazyval_eval($tmp203); 
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret200;
} #end-of-function


######
#ATSextcode_beg()
######
######
1; ##note that it is needed by 'use' or 'require'
######
######
#ATSextcode_end()
######
######
##
## end-of-compilation-unit
##
######
