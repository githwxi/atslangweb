;;;;;;
;;
;; The Scheme code is generated by atscc2scm
;; The starting compilation time is: 2017-4-12:  0h:35m
;;
;;;;;;

(define
(_ats2scmpre_stream_vt_patsfun_7__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_)(_ats2scmpre_stream_vt_patsfun_7 (ATSCCget_1 _fcenvs_))) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_10__closurerize xenv0 xenv1)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_10 (ATSCCget_1 _fcenvs_) (ATSCCget_2 _fcenvs_) xarg0)) xenv0 xenv1)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_19__closurerize xenv0 xenv1)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_19 (ATSCCget_1 _fcenvs_) (ATSCCget_2 _fcenvs_) xarg0)) xenv0 xenv1)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_22__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_22 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_25__closurerize xenv0 xenv1)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_25 (ATSCCget_1 _fcenvs_) (ATSCCget_2 _fcenvs_) xarg0)) xenv0 xenv1)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_27__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_27 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_30__closurerize xenv0 xenv1)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_30 (ATSCCget_1 _fcenvs_) (ATSCCget_2 _fcenvs_) xarg0)) xenv0 xenv1)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_32__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_32 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_36__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_36 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_40__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_40 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_44__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_44 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_48__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_48 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_52__closurerize xenv0)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_52 (ATSCCget_1 _fcenvs_) xarg0)) xenv0)
;;%}
) ;; define


(define
(_ats2scmpre_stream_vt_patsfun_55__closurerize xenv0 xenv1)
;;%{
  (list (lambda(_fcenvs_ xarg0)(_ats2scmpre_stream_vt_patsfun_55 (ATSCCget_1 _fcenvs_) (ATSCCget_2 _fcenvs_) xarg0)) xenv0 xenv1)
;;%}
) ;; define


;;fun
(define
(ats2scmpre_stream_vt_free arg0)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_free
  (ATSINSmove1_void (atspre_lazy_vt_free arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt2t arg0)
(let(
;;knd = 0
  (tmpret6 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt2t
  (_ats2scmpre_stream_vt_aux_6 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_aux_6 arg0)
(let(
;;knd = 0
  (tmpret7 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_aux_6
  (ATSPMVlazyval (_ats2scmpre_stream_vt_patsfun_7__closurerize arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_7 env0)
(let(
;;knd = 0
  (tmpret8 #f)
  (tmp9 #f)
  (tmp10 #f)
  (tmp11 #f)
  (tmp12 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_7
  (ATSINStmpset tmp9 (ATSPMVllazyval_eval env0))
  (letrec(
    (casefnx
     (lambda(tmplab)(case tmplab
      ;; ATSbranchseq_beg
      ((1)
       (if (ATSCKptriscons tmp9)
         (casefnx 4)
         (begin
          (casefnx 2)
         )
       )
      ) ;; end-of-branch
      ((2)
       atscc2scm_null
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; ATSbranchseq_beg
      ((3)
       (casefnx 4)
      ) ;; end-of-branch
      ((4)
       (ATSINStmpset tmp10 (ATSSELcon tmp9 0))
       (ATSINStmpset tmp11 (ATSSELcon tmp9 1))
       ;; ATSINSfreecon(tmp9);
       (ATSINStmpset tmp12 (_ats2scmpre_stream_vt_aux_6 tmp11))
       (ATSPMVtysum tmp10 tmp12)
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
      ) ;; end-of-case
     ) ;; end-of-lambda
    ) ;; end-of-casefnx
   ) (casefnx 1)
  ) ;; end-of-letrec
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_takeLte arg0 arg1)
(let(
;;knd = 0
  (tmpret13 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_takeLte
  (_ats2scmpre_stream_vt_auxmain_9 arg0 arg1)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_9 arg0 arg1)
(let(
;;knd = 0
  (tmpret14 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_9
  (ATSPMVllazyval (_ats2scmpre_stream_vt_patsfun_10__closurerize arg0 arg1))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_10 env0 env1 arg0)
(let(
;;knd = 0
  (tmpret15 #f)
  (tmp16 #f)
  (tmp17 #f)
  (tmp18 #f)
  (tmp19 #f)
  (tmp20 #f)
  (tmp21 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_10
  (if arg0
    (begin
     (ATSINStmpset tmp16 (ats2scmpre_gt_int1_int1 env1 0))
     (if tmp16
       (begin
        (ATSINStmpset tmp17 (ATSPMVllazyval_eval env0))
        (letrec(
          (casefnx
           (lambda(tmplab)(case tmplab
            ;; ATSbranchseq_beg
            ((1)
             (if (ATSCKptriscons tmp17)
               (casefnx 4)
               (begin
                (casefnx 2)
               )
             )
            ) ;; end-of-branch
            ((2)
             atscc2scm_null
            ) ;; end-of-branch
            ;; ATSbranchseq_end
            ;; ATSbranchseq_beg
            ((3)
             (casefnx 4)
            ) ;; end-of-branch
            ((4)
             (ATSINStmpset tmp18 (ATSSELcon tmp17 0))
             (ATSINStmpset tmp19 (ATSSELcon tmp17 1))
             ;; ATSINSfreecon(tmp17);
             (ATSINStmpset tmp21 (ats2scmpre_sub_int1_int1 env1 1))
             (ATSINStmpset tmp20 (_ats2scmpre_stream_vt_auxmain_9 tmp19 tmp21))
             (ATSPMVtysum tmp18 tmp20)
            ) ;; end-of-branch
            ;; ATSbranchseq_end
            ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
            ) ;; end-of-case
           ) ;; end-of-lambda
          ) ;; end-of-casefnx
         ) (casefnx 1)
        ) ;; end-of-letrec
       ) ;; if-then
       (begin
        (ATSINSmove1_void (atspre_lazy_vt_free env0))
        atscc2scm_null
       ) ;; if-else
     )
    ) ;; if-then
    (begin
     (ATSINSmove1_void (atspre_lazy_vt_free env0))
    ) ;; if-else
  )
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_length arg0)
(let(
;;knd = 0
  (tmpret24 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_length
  (_ats2scmpre_stream_vt_loop_12 arg0 0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_loop_12 arg0 arg1)
(let(
;;knd = 1
;;(apy0 #f)
;;(apy1 #f)
  (tmpret25 #f)
  (tmp26 #f)
  (tmp28 #f)
  (tmp29 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_stream_vt_loop_12
    (ATSINStmpset tmp26 (ATSPMVllazyval_eval arg0))
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons tmp26)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         arg1
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp28 (ATSSELcon tmp26 1))
         ;; ATSINSfreecon(tmp26);
         (ATSINStmpset tmp29 (ats2scmpre_add_int1_int1 arg1 1))
         ;; apy0 = tmp28
         ;; apy1 = tmp29
         ;; arg0 = apy0
         ;; arg1 = apy1
         ;; funlab_scm = 1; // __patsflab__ats2scmpre_stream_vt_loop_12
         (_ats2scmpre_stream_vt_loop_12 tmp28 tmp29)
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return tmpret25;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream2list_vt arg0)
(let(
;;knd = 0
  (tmpret30 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream2list_vt
  (_ats2scmpre_stream_vt_aux_14 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_aux_14 arg0)
(let(
;;knd = 0
  (tmpret31 #f)
  (tmp32 #f)
  (tmp33 #f)
  (tmp34 #f)
  (tmp35 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_aux_14
  (ATSINStmpset tmp32 (ATSPMVllazyval_eval arg0))
  (letrec(
    (casefnx
     (lambda(tmplab)(case tmplab
      ;; ATSbranchseq_beg
      ((1)
       (if (ATSCKptriscons tmp32)
         (casefnx 4)
         (begin
          (casefnx 2)
         )
       )
      ) ;; end-of-branch
      ((2)
       atscc2scm_null
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; ATSbranchseq_beg
      ((3)
       (casefnx 4)
      ) ;; end-of-branch
      ((4)
       (ATSINStmpset tmp33 (ATSSELcon tmp32 0))
       (ATSINStmpset tmp34 (ATSSELcon tmp32 1))
       ;; ATSINSfreecon(tmp32);
       (ATSINStmpset tmp35 (_ats2scmpre_stream_vt_aux_14 tmp34))
       (ATSPMVtysum tmp33 tmp35)
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
      ) ;; end-of-case
     ) ;; end-of-lambda
    ) ;; end-of-casefnx
   ) (casefnx 1)
  ) ;; end-of-letrec
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream2list_vt_rev arg0)
(let(
;;knd = 0
  (tmpret36 #f)
  (tmp42 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream2list_vt_rev
  (ATSINStmpset tmp42 atscc2scm_null)
  (_ats2scmpre_stream_vt_loop_16 arg0 tmp42)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_loop_16 arg0 arg1)
(let(
;;knd = 1
;;(apy0 #f)
;;(apy1 #f)
  (tmpret37 #f)
  (tmp38 #f)
  (tmp39 #f)
  (tmp40 #f)
  (tmp41 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_stream_vt_loop_16
    (ATSINStmpset tmp38 (ATSPMVllazyval_eval arg0))
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons tmp38)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         arg1
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp39 (ATSSELcon tmp38 0))
         (ATSINStmpset tmp40 (ATSSELcon tmp38 1))
         ;; ATSINSfreecon(tmp38);
         (ATSINStmpset tmp41 (ATSPMVtysum tmp39 arg1))
         ;; apy0 = tmp40
         ;; apy1 = tmp41
         ;; arg0 = apy0
         ;; arg1 = apy1
         ;; funlab_scm = 1; // __patsflab__ats2scmpre_stream_vt_loop_16
         (_ats2scmpre_stream_vt_loop_16 tmp40 tmp41)
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return tmpret37;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_append arg0 arg1)
(let(
;;knd = 0
  (tmpret43 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_append
  (_ats2scmpre_stream_vt_auxmain_18 arg0 arg1)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_18 arg0 arg1)
(let(
;;knd = 0
  (tmpret44 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_18
  (ATSPMVllazyval (_ats2scmpre_stream_vt_patsfun_19__closurerize arg0 arg1))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_19 env0 env1 arg0)
(let(
;;knd = 0
  (tmpret45 #f)
  (tmp46 #f)
  (tmp47 #f)
  (tmp48 #f)
  (tmp49 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_19
  (if arg0
    (begin
     (ATSINStmpset tmp46 (ATSPMVllazyval_eval env0))
     (letrec(
       (casefnx
        (lambda(tmplab)(case tmplab
         ;; ATSbranchseq_beg
         ((1)
          (if (ATSCKptriscons tmp46)
            (casefnx 4)
            (begin
             (casefnx 2)
            )
          )
         ) ;; end-of-branch
         ((2)
          (ATSPMVllazyval_eval env1)
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; ATSbranchseq_beg
         ((3)
          (casefnx 4)
         ) ;; end-of-branch
         ((4)
          (ATSINStmpset tmp47 (ATSSELcon tmp46 0))
          (ATSINStmpset tmp48 (ATSSELcon tmp46 1))
          ;; ATSINSfreecon(tmp46);
          (ATSINStmpset tmp49 (_ats2scmpre_stream_vt_auxmain_18 tmp48 env1))
          (ATSPMVtysum tmp47 tmp49)
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
         ) ;; end-of-case
        ) ;; end-of-lambda
       ) ;; end-of-casefnx
      ) (casefnx 1)
     ) ;; end-of-letrec
    ) ;; if-then
    (begin
     (ATSINSmove1_void (atspre_lazy_vt_free env0))
     (ATSINSmove1_void (atspre_lazy_vt_free env1))
    ) ;; if-else
  )
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_concat arg0)
(let(
;;knd = 0
  (tmpret52 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_concat
  (_ats2scmpre_stream_vt_auxmain_21 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_21 arg0)
(let(
;;knd = 0
  (tmpret53 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_21
  (ATSPMVllazyval (_ats2scmpre_stream_vt_patsfun_22__closurerize arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_22 env0 arg0)
(let(
;;knd = 0
  (tmpret54 #f)
  (tmp55 #f)
  (tmp56 #f)
  (tmp57 #f)
  (tmp58 #f)
  (tmp59 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_22
  (if arg0
    (begin
     (ATSINStmpset tmp55 (ATSPMVllazyval_eval env0))
     (letrec(
       (casefnx
        (lambda(tmplab)(case tmplab
         ;; ATSbranchseq_beg
         ((1)
          (if (ATSCKptriscons tmp55)
            (casefnx 4)
            (begin
             (casefnx 2)
            )
          )
         ) ;; end-of-branch
         ((2)
          atscc2scm_null
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; ATSbranchseq_beg
         ((3)
          (casefnx 4)
         ) ;; end-of-branch
         ((4)
          (ATSINStmpset tmp56 (ATSSELcon tmp55 0))
          (ATSINStmpset tmp57 (ATSSELcon tmp55 1))
          ;; ATSINSfreecon(tmp55);
          (ATSINStmpset tmp59 (_ats2scmpre_stream_vt_auxmain_21 tmp57))
          (ATSINStmpset tmp58 (ats2scmpre_stream_vt_append tmp56 tmp59))
          (ATSPMVllazyval_eval tmp58)
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
         ) ;; end-of-case
        ) ;; end-of-lambda
       ) ;; end-of-casefnx
      ) (casefnx 1)
     ) ;; end-of-letrec
    ) ;; if-then
    (begin
     (ATSINSmove1_void (atspre_lazy_vt_free env0))
    ) ;; if-else
  )
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_map_cloref arg0 arg1)
(let(
;;knd = 0
  (tmpret61 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_map_cloref
  (_ats2scmpre_stream_vt_auxmain_24 arg1 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_24 env0 arg0)
(let(
;;knd = 0
  (tmpret62 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_24
  (ATSPMVllazyval (_ats2scmpre_stream_vt_patsfun_25__closurerize env0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_25 env0 env1 arg0)
(let(
;;knd = 0
  (tmpret63 #f)
  (tmp64 #f)
  (tmp65 #f)
  (tmp66 #f)
  (tmp67 #f)
  (tmp68 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_25
  (if arg0
    (begin
     (ATSINStmpset tmp64 (ATSPMVllazyval_eval env1))
     (letrec(
       (casefnx
        (lambda(tmplab)(case tmplab
         ;; ATSbranchseq_beg
         ((1)
          (if (ATSCKptriscons tmp64)
            (casefnx 4)
            (begin
             (casefnx 2)
            )
          )
         ) ;; end-of-branch
         ((2)
          atscc2scm_null
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; ATSbranchseq_beg
         ((3)
          (casefnx 4)
         ) ;; end-of-branch
         ((4)
          (ATSINStmpset tmp65 (ATSSELcon tmp64 0))
          (ATSINStmpset tmp66 (ATSSELcon tmp64 1))
          ;; ATSINSfreecon(tmp64);
          (ATSINStmpset tmp67 ((ATSfunclo_fclo env0) env0 tmp65))
          (ATSINStmpset tmp68 (_ats2scmpre_stream_vt_auxmain_24 env0 tmp66))
          (ATSPMVtysum tmp67 tmp68)
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
         ) ;; end-of-case
        ) ;; end-of-lambda
       ) ;; end-of-casefnx
      ) (casefnx 1)
     ) ;; end-of-letrec
    ) ;; if-then
    (begin
     (ATSINSmove1_void (atspre_lazy_vt_free env1))
    ) ;; if-else
  )
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_map_method arg0 arg1)
(let(
;;knd = 0
  (tmpret70 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_map_method
  (_ats2scmpre_stream_vt_patsfun_27__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_27 env0 arg0)
(let(
;;knd = 0
  (tmpret71 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_27
  (ats2scmpre_stream_vt_map_cloref env0 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_filter_cloref arg0 arg1)
(let(
;;knd = 0
  (tmpret72 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_filter_cloref
  (_ats2scmpre_stream_vt_auxmain_29 arg1 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_29 env0 arg0)
(let(
;;knd = 0
  (tmpret73 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_29
  (ATSPMVllazyval (_ats2scmpre_stream_vt_patsfun_30__closurerize env0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_30 env0 env1 arg0)
(let(
;;knd = 0
  (tmpret74 #f)
  (tmp75 #f)
  (tmp76 #f)
  (tmp77 #f)
  (tmp78 #f)
  (tmp79 #f)
  (tmp80 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_30
  (if arg0
    (begin
     (ATSINStmpset tmp75 (ATSPMVllazyval_eval env1))
     (letrec(
       (casefnx
        (lambda(tmplab)(case tmplab
         ;; ATSbranchseq_beg
         ((1)
          (if (ATSCKptriscons tmp75)
            (casefnx 4)
            (begin
             (casefnx 2)
            )
          )
         ) ;; end-of-branch
         ((2)
          atscc2scm_null
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; ATSbranchseq_beg
         ((3)
          (casefnx 4)
         ) ;; end-of-branch
         ((4)
          (ATSINStmpset tmp76 (ATSSELcon tmp75 0))
          (ATSINStmpset tmp77 (ATSSELcon tmp75 1))
          ;; ATSINSfreecon(tmp75);
          (ATSINStmpset tmp78 ((ATSfunclo_fclo env0) env0 tmp76))
          (if tmp78
            (begin
             (ATSINStmpset tmp79 (_ats2scmpre_stream_vt_auxmain_29 env0 tmp77))
             (ATSPMVtysum tmp76 tmp79)
            ) ;; if-then
            (begin
             (ATSINStmpset tmp80 (_ats2scmpre_stream_vt_auxmain_29 env0 tmp77))
             (ATSPMVllazyval_eval tmp80)
            ) ;; if-else
          )
         ) ;; end-of-branch
         ;; ATSbranchseq_end
         ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
         ) ;; end-of-case
        ) ;; end-of-lambda
       ) ;; end-of-casefnx
      ) (casefnx 1)
     ) ;; end-of-letrec
    ) ;; if-then
    (begin
     (ATSINSmove1_void (atspre_lazy_vt_free env1))
    ) ;; if-else
  )
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_filter_method arg0)
(let(
;;knd = 0
  (tmpret82 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_filter_method
  (_ats2scmpre_stream_vt_patsfun_32__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_32 env0 arg0)
(let(
;;knd = 0
  (tmpret83 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_32
  (ats2scmpre_stream_vt_filter_cloref env0 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_exists_cloref arg0 arg1)
(let(
;;knd = 0
  (tmpret84 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_exists_cloref
  (_ats2scmpre_stream_vt_loop_34 arg1 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_loop_34 env0 arg0)
(let(
;;knd = 1
;;(apy0 #f)
  (tmpret85 #f)
  (tmp86 #f)
  (tmp87 #f)
  (tmp88 #f)
  (tmp89 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_stream_vt_loop_34
    (ATSINStmpset tmp86 (ATSPMVllazyval_eval arg0))
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons tmp86)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         atscc2scm_false
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp87 (ATSSELcon tmp86 0))
         (ATSINStmpset tmp88 (ATSSELcon tmp86 1))
         ;; ATSINSfreecon(tmp86);
         (ATSINStmpset tmp89 ((ATSfunclo_fclo env0) env0 tmp87))
         (if tmp89
           (begin
            (ATSINSmove1_void (atspre_lazy_vt_free tmp88))
            atscc2scm_true
           ) ;; if-then
           (begin
            ;; apy0 = tmp88
            ;; arg0 = apy0
            ;; funlab_scm = 1; // __patsflab__ats2scmpre_stream_vt_loop_34
            (_ats2scmpre_stream_vt_loop_34 env0 tmp88)
           ) ;; if-else
         )
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return tmpret85;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_exists_method arg0)
(let(
;;knd = 0
  (tmpret91 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_exists_method
  (_ats2scmpre_stream_vt_patsfun_36__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_36 env0 arg0)
(let(
;;knd = 0
  (tmpret92 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_36
  (ats2scmpre_stream_vt_exists_cloref env0 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_forall_cloref arg0 arg1)
(let(
;;knd = 0
  (tmpret93 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_forall_cloref
  (_ats2scmpre_stream_vt_loop_38 arg1 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_loop_38 env0 arg0)
(let(
;;knd = 1
;;(apy0 #f)
  (tmpret94 #f)
  (tmp95 #f)
  (tmp96 #f)
  (tmp97 #f)
  (tmp98 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_stream_vt_loop_38
    (ATSINStmpset tmp95 (ATSPMVllazyval_eval arg0))
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons tmp95)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         atscc2scm_true
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp96 (ATSSELcon tmp95 0))
         (ATSINStmpset tmp97 (ATSSELcon tmp95 1))
         ;; ATSINSfreecon(tmp95);
         (ATSINStmpset tmp98 ((ATSfunclo_fclo env0) env0 tmp96))
         (if tmp98
           (begin
            ;; apy0 = tmp97
            ;; arg0 = apy0
            ;; funlab_scm = 1; // __patsflab__ats2scmpre_stream_vt_loop_38
            (_ats2scmpre_stream_vt_loop_38 env0 tmp97)
           ) ;; if-then
           (begin
            (ATSINSmove1_void (atspre_lazy_vt_free tmp97))
            atscc2scm_false
           ) ;; if-else
         )
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return tmpret94;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_forall_method arg0)
(let(
;;knd = 0
  (tmpret100 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_forall_method
  (_ats2scmpre_stream_vt_patsfun_40__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_40 env0 arg0)
(let(
;;knd = 0
  (tmpret101 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_40
  (ats2scmpre_stream_vt_forall_cloref env0 arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_foreach_cloref arg0 arg1)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_foreach_cloref
  (ATSINSmove1_void (_ats2scmpre_stream_vt_loop_42 arg1 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_loop_42 env0 arg0)
(let(
;;knd = 1
;;(apy0 #f)
  (tmp104 #f)
  (tmp105 #f)
  (tmp106 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_stream_vt_loop_42
    (ATSINStmpset tmp104 (ATSPMVllazyval_eval arg0))
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons tmp104)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         ATSINSmove0_void
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp105 (ATSSELcon tmp104 0))
         (ATSINStmpset tmp106 (ATSSELcon tmp104 1))
         ;; ATSINSfreecon(tmp104);
         (ATSINSmove1_void ((ATSfunclo_fclo env0) env0 tmp105))
         ;; apy0 = tmp106
         ;; arg0 = apy0
         ;; funlab_scm = 1; // __patsflab__ats2scmpre_stream_vt_loop_42
         (_ats2scmpre_stream_vt_loop_42 env0 tmp106)
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return/*_void*/;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_foreach_method arg0)
(let(
;;knd = 0
  (tmpret108 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_foreach_method
  (_ats2scmpre_stream_vt_patsfun_44__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_44 env0 arg0)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_44
  (ATSINSmove1_void (ats2scmpre_stream_vt_foreach_cloref env0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_iforeach_cloref arg0 arg1)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_iforeach_cloref
  (ATSINSmove1_void (_ats2scmpre_stream_vt_loop_46 arg1 0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_loop_46 env0 arg0 arg1)
(let(
;;knd = 1
;;(apy0 #f)
;;(apy1 #f)
  (tmp112 #f)
  (tmp113 #f)
  (tmp114 #f)
  (tmp116 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_stream_vt_loop_46
    (ATSINStmpset tmp112 (ATSPMVllazyval_eval arg1))
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons tmp112)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         ATSINSmove0_void
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp113 (ATSSELcon tmp112 0))
         (ATSINStmpset tmp114 (ATSSELcon tmp112 1))
         ;; ATSINSfreecon(tmp112);
         (ATSINSmove1_void ((ATSfunclo_fclo env0) env0 arg0 tmp113))
         (ATSINStmpset tmp116 (ats2scmpre_add_int1_int1 arg0 1))
         ;; apy0 = tmp116
         ;; apy1 = tmp114
         ;; arg0 = apy0
         ;; arg1 = apy1
         ;; funlab_scm = 1; // __patsflab__ats2scmpre_stream_vt_loop_46
         (_ats2scmpre_stream_vt_loop_46 env0 tmp116 tmp114)
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return/*_void*/;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_iforeach_method arg0)
(let(
;;knd = 0
  (tmpret117 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_iforeach_method
  (_ats2scmpre_stream_vt_patsfun_48__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_48 env0 arg0)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_48
  (ATSINSmove1_void (ats2scmpre_stream_vt_iforeach_cloref env0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_rforeach_cloref arg0 arg1)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_rforeach_cloref
  (ATSINSmove1_void (_ats2scmpre_stream_vt_auxmain_50 arg1 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_50 env0 arg0)
(let(
;;knd = 0
  (tmp121 #f)
  (tmp122 #f)
  (tmp123 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_50
  (ATSINStmpset tmp121 (ATSPMVllazyval_eval arg0))
  (letrec(
    (casefnx
     (lambda(tmplab)(case tmplab
      ;; ATSbranchseq_beg
      ((1)
       (if (ATSCKptriscons tmp121)
         (casefnx 4)
         (begin
          (casefnx 2)
         )
       )
      ) ;; end-of-branch
      ((2)
       ATSINSmove0_void
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; ATSbranchseq_beg
      ((3)
       (casefnx 4)
      ) ;; end-of-branch
      ((4)
       (ATSINStmpset tmp122 (ATSSELcon tmp121 0))
       (ATSINStmpset tmp123 (ATSSELcon tmp121 1))
       ;; ATSINSfreecon(tmp121);
       (ATSINSmove1_void (_ats2scmpre_stream_vt_auxmain_50 env0 tmp123))
       (ATSINSmove1_void ((ATSfunclo_fclo env0) env0 tmp122))
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
      ) ;; end-of-case
     ) ;; end-of-lambda
    ) ;; end-of-casefnx
   ) (casefnx 1)
  ) ;; end-of-letrec
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_rforeach_method arg0)
(let(
;;knd = 0
  (tmpret125 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_rforeach_method
  (_ats2scmpre_stream_vt_patsfun_52__closurerize arg0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_52 env0 arg0)
(let(
;;knd = 0
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_52
  (ATSINSmove1_void (ats2scmpre_stream_vt_rforeach_cloref env0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_stream_vt_tabulate_cloref arg0)
(let(
;;knd = 0
  (tmpret127 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_stream_vt_tabulate_cloref
  (_ats2scmpre_stream_vt_auxmain_54 arg0 0)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_auxmain_54 env0 arg0)
(let(
;;knd = 0
  (tmpret128 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_auxmain_54
  (ATSPMVllazyval (_ats2scmpre_stream_vt_patsfun_55__closurerize env0 arg0))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_stream_vt_patsfun_55 env0 env1 arg0)
(let(
;;knd = 0
  (tmpret129 #f)
  (tmp130 #f)
  (tmp131 #f)
  (tmp132 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_stream_vt_patsfun_55
  (if arg0
    (begin
     (ATSINStmpset tmp130 ((ATSfunclo_fclo env0) env0 env1))
     (ATSINStmpset tmp132 (ats2scmpre_add_int1_int1 env1 1))
     (ATSINStmpset tmp131 (_ats2scmpre_stream_vt_auxmain_54 env0 tmp132))
     (ATSPMVtysum tmp130 tmp131)
    ) ;; if-then
    (begin
    ) ;; if-else
  )
) ;; end-of-let
) ;; end-of-fun

;;;;;;
;;
;; end-of-compilation-unit
;;
;;;;;;
