;;;;;;
;;
;; The Scheme code is generated by atscc2scm
;; The starting compilation time is: 2017-4-12:  0h:35m
;;
;;;;;;

;;fun
(define
(ats2scmpre_qlistref_make_nil)
(let(
;;knd = 0
  (tmpret0 #f)
  (tmp1 #f)
  (tmp2 #f)
  (tmp3 #f)
  (tmp4 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_qlistref_make_nil
  (ATSINStmpset tmp2 atscc2scm_null)
  (ATSINStmpset tmp1 (ats2scmpre_ref tmp2))
  (ATSINStmpset tmp4 atscc2scm_null)
  (ATSINStmpset tmp3 (ats2scmpre_ref tmp4))
  (ATSPMVtysum tmp1 tmp3)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_qlistref_length arg0)
(let(
;;knd = 0
  (tmpret5 #f)
  (tmp6 #f)
  (tmp7 #f)
  (tmp8 #f)
  (tmp9 #f)
  (tmp10 #f)
  (tmp11 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_qlistref_length
  (ATSINStmpset tmp6 (ATSSELcon arg0 0))
  (ATSINStmpset tmp7 (ATSSELcon arg0 1))
  (ATSINStmpset tmp9 (ats2scmpre_ref_get_elt tmp6))
  (ATSINStmpset tmp8 (ats2scmpre_list_length tmp9))
  (ATSINStmpset tmp11 (ats2scmpre_ref_get_elt tmp7))
  (ATSINStmpset tmp10 (ats2scmpre_list_length tmp11))
  (ats2scmpre_add_int1_int1 tmp8 tmp10)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_qlistref_enqueue arg0 arg1)
(let(
;;knd = 0
  (tmp13 #f)
  (tmp14 #f)
  (tmp15 #f)
  (tmp16 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_qlistref_enqueue
  (ATSINStmpset tmp13 (ATSSELcon arg0 0))
  (ATSINStmpset tmp14 (ATSSELcon arg0 1))
  (ATSINStmpset tmp16 (ats2scmpre_ref_get_elt tmp13))
  (ATSINStmpset tmp15 (ATSPMVtysum arg1 tmp16))
  (ATSINSmove1_void (ats2scmpre_ref_set_elt tmp13 tmp15))
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_qlistref_dequeue_opt arg0)
(let(
;;knd = 0
  (tmpret17 #f)
  (tmp18 #f)
  (tmp19 #f)
  (tmp20 #f)
  (tmp21 #f)
  (tmp22 #f)
  (tmp23 #f)
  (tmp25 #f)
  (tmp26 #f)
  (tmp27 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_qlistref_dequeue_opt
  (ATSINStmpset tmp18 (ATSSELcon arg0 0))
  (ATSINStmpset tmp19 (ATSSELcon arg0 1))
  (ATSINStmpset tmp20 (ats2scmpre_ref_get_elt tmp19))
  (letrec(
    (casefnx
     (lambda(tmplab)(case tmplab
      ;; ATSbranchseq_beg
      ((1)
       (if (ATSCKptriscons tmp20)
         (casefnx 4)
         (begin
          (casefnx 2)
         )
       )
      ) ;; end-of-branch
      ((2)
       (ATSINStmpset tmp23 (ats2scmpre_ref_get_elt tmp18))
       (ATSINStmpset tmp25 atscc2scm_null)
       (ATSINSmove1_void (ats2scmpre_ref_set_elt tmp18 tmp25))
       (letrec(
         (casefnx
          (lambda(tmplab)(case tmplab
           ;; ATSbranchseq_beg
           ((1)
            (if (ATSCKptriscons tmp23)
              (casefnx 4)
              (begin
               (casefnx 2)
              )
            )
           ) ;; end-of-branch
           ((2)
            atscc2scm_null
           ) ;; end-of-branch
           ;; ATSbranchseq_end
           ;; ATSbranchseq_beg
           ((3)
            (casefnx 4)
           ) ;; end-of-branch
           ((4)
            (ATSINStmpset tmp26 (ATSSELcon tmp23 0))
            (ATSINStmpset tmp27 (ATSSELcon tmp23 1))
            (ATSINSmove1_void (ats2scmpre_ref_set_elt tmp19 tmp27))
            (ATSPMVtysum tmp26)
           ) ;; end-of-branch
           ;; ATSbranchseq_end
           ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
           ) ;; end-of-case
          ) ;; end-of-lambda
         ) ;; end-of-casefnx
        ) (casefnx 1)
       ) ;; end-of-letrec
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; ATSbranchseq_beg
      ((3)
       (casefnx 4)
      ) ;; end-of-branch
      ((4)
       (ATSINStmpset tmp21 (ATSSELcon tmp20 0))
       (ATSINStmpset tmp22 (ATSSELcon tmp20 1))
       (ATSINSmove1_void (ats2scmpre_ref_set_elt tmp19 tmp22))
       (ATSPMVtysum tmp21)
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
      ) ;; end-of-case
     ) ;; end-of-lambda
    ) ;; end-of-casefnx
   ) (casefnx 1)
  ) ;; end-of-letrec
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_qlistref_foldleft arg0 arg1 arg2)
(let(
;;knd = 0
  (tmpret30 #f)
  (tmp31 #f)
  (tmp32 #f)
  (tmp41 #f)
  (tmp42 #f)
  (tmp43 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_qlistref_foldleft
  (ATSINStmpset tmp31 (ATSSELcon arg0 0))
  (ATSINStmpset tmp32 (ATSSELcon arg0 1))
  (ATSINStmpset tmp41 (ats2scmpre_ref_get_elt tmp31))
  (ATSINStmpset tmp43 (ats2scmpre_ref_get_elt tmp32))
  (ATSINStmpset tmp42 (_ats2scmpre_qlistref_auxl_5 arg2 arg1 tmp43))
  (_ats2scmpre_qlistref_auxr_6 arg2 tmp41 tmp42)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_qlistref_auxl_5 env0 arg0 arg1)
(let(
;;knd = 1
;;(apy0 #f)
;;(apy1 #f)
  (tmpret33 #f)
  (tmp34 #f)
  (tmp35 #f)
  (tmp36 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_qlistref_auxl_5
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons arg1)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         arg0
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp34 (ATSSELcon arg1 0))
         (ATSINStmpset tmp35 (ATSSELcon arg1 1))
         (ATSINStmpset tmp36 ((ATSfunclo_fclo env0) env0 arg0 tmp34))
         ;; apy0 = tmp36
         ;; apy1 = tmp35
         ;; arg0 = apy0
         ;; arg1 = apy1
         ;; funlab_scm = 1; // __patsflab__ats2scmpre_qlistref_auxl_5
         (_ats2scmpre_qlistref_auxl_5 env0 tmp36 tmp35)
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return tmpret33;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_qlistref_auxr_6 env0 arg0 arg1)
(let(
;;knd = 0
  (tmpret37 #f)
  (tmp38 #f)
  (tmp39 #f)
  (tmp40 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_qlistref_auxr_6
  (letrec(
    (casefnx
     (lambda(tmplab)(case tmplab
      ;; ATSbranchseq_beg
      ((1)
       (if (ATSCKptriscons arg0)
         (casefnx 4)
         (begin
          (casefnx 2)
         )
       )
      ) ;; end-of-branch
      ((2)
       arg1
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; ATSbranchseq_beg
      ((3)
       (casefnx 4)
      ) ;; end-of-branch
      ((4)
       (ATSINStmpset tmp38 (ATSSELcon arg0 0))
       (ATSINStmpset tmp39 (ATSSELcon arg0 1))
       (ATSINStmpset tmp40 (_ats2scmpre_qlistref_auxr_6 env0 tmp39 arg1))
       ((ATSfunclo_fclo env0) env0 tmp40 tmp38)
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
      ) ;; end-of-case
     ) ;; end-of-lambda
    ) ;; end-of-casefnx
   ) (casefnx 1)
  ) ;; end-of-letrec
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(ats2scmpre_qlistref_foldright arg0 arg1 arg2)
(let(
;;knd = 0
  (tmpret44 #f)
  (tmp45 #f)
  (tmp46 #f)
  (tmp55 #f)
  (tmp56 #f)
  (tmp57 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab_qlistref_foldright
  (ATSINStmpset tmp45 (ATSSELcon arg0 0))
  (ATSINStmpset tmp46 (ATSSELcon arg0 1))
  (ATSINStmpset tmp55 (ats2scmpre_ref_get_elt tmp46))
  (ATSINStmpset tmp57 (ats2scmpre_ref_get_elt tmp45))
  (ATSINStmpset tmp56 (_ats2scmpre_qlistref_auxl_8 arg1 arg2 tmp57))
  (_ats2scmpre_qlistref_auxr_9 arg1 tmp55 tmp56)
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_qlistref_auxl_8 env0 arg0 arg1)
(let(
;;knd = 1
;;(apy0 #f)
;;(apy1 #f)
  (tmpret47 #f)
  (tmp48 #f)
  (tmp49 #f)
  (tmp50 #f)
;;var funlab_scm
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;while(true) {
    ;; funlab_scm = 0;
    ;; __patsflab__ats2scmpre_qlistref_auxl_8
    (letrec(
      (casefnx
       (lambda(tmplab)(case tmplab
        ;; ATSbranchseq_beg
        ((1)
         (if (ATSCKptriscons arg1)
           (casefnx 4)
           (begin
            (casefnx 2)
           )
         )
        ) ;; end-of-branch
        ((2)
         arg0
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; ATSbranchseq_beg
        ((3)
         (casefnx 4)
        ) ;; end-of-branch
        ((4)
         (ATSINStmpset tmp48 (ATSSELcon arg1 0))
         (ATSINStmpset tmp49 (ATSSELcon arg1 1))
         (ATSINStmpset tmp50 ((ATSfunclo_fclo env0) env0 tmp48 arg0))
         ;; apy0 = tmp50
         ;; apy1 = tmp49
         ;; arg0 = apy0
         ;; arg1 = apy1
         ;; funlab_scm = 1; // __patsflab__ats2scmpre_qlistref_auxl_8
         (_ats2scmpre_qlistref_auxl_8 env0 tmp50 tmp49)
        ) ;; end-of-branch
        ;; ATSbranchseq_end
        ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
        ) ;; end-of-case
       ) ;; end-of-lambda
      ) ;; end-of-casefnx
     ) (casefnx 1)
    ) ;; end-of-letrec
    ;; if (funlab_scm > 0) continue; else ;; return tmpret47;
  ;} // endwhile-fun
) ;; end-of-let
) ;; end-of-fun


;;fun
(define
(_ats2scmpre_qlistref_auxr_9 env0 arg0 arg1)
(let(
;;knd = 0
  (tmpret51 #f)
  (tmp52 #f)
  (tmp53 #f)
  (tmp54 #f)
;;var tmplab,tmplab_scm
) ;; in-of-let
  ;; __patsflab__ats2scmpre_qlistref_auxr_9
  (letrec(
    (casefnx
     (lambda(tmplab)(case tmplab
      ;; ATSbranchseq_beg
      ((1)
       (if (ATSCKptriscons arg0)
         (casefnx 4)
         (begin
          (casefnx 2)
         )
       )
      ) ;; end-of-branch
      ((2)
       arg1
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; ATSbranchseq_beg
      ((3)
       (casefnx 4)
      ) ;; end-of-branch
      ((4)
       (ATSINStmpset tmp52 (ATSSELcon arg0 0))
       (ATSINStmpset tmp53 (ATSSELcon arg0 1))
       (ATSINStmpset tmp54 (_ats2scmpre_qlistref_auxr_9 env0 tmp53 arg1))
       ((ATSfunclo_fclo env0) env0 tmp52 tmp54)
      ) ;; end-of-branch
      ;; ATSbranchseq_end
      ;; (else (atscc2scm_caseof_deadcode _FILE_ _LINE_))
      ) ;; end-of-case
     ) ;; end-of-lambda
    ) ;; end-of-casefnx
   ) (casefnx 1)
  ) ;; end-of-letrec
) ;; end-of-let
) ;; end-of-fun

;;;;;;
;;
;; end-of-compilation-unit
;;
;;;;;;
